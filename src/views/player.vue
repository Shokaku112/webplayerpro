<template>
  <div>
    <el-carousel :interval="4000" type="card" height="200px" @change="onchanged">
      
      <el-carousel-item v-for="item in item" :key="item.index"  >
       <img class="img" :src="item.src"  v-bind:style="{filter:item.style}" >
      </el-carousel-item>
   
    </el-carousel>

    <div class="maintag">

    <div class="nav1">
      <h2 class="nav1 a1"><a href="#">热门推荐</a></h2>
      <div class="tab" >
        <a href="#" class="tabtag">日语</a>
        <span class="tagline">|</span>
        <a  href="#" class="tabtag">英语</a>
        <span class="tagline">|</span>
        <a  href="#" class="tabtag">法语</a>
        <span class="tagline">|</span>
        <a  href="#"  class="tabtag">俄语</a>
      </div>
    </div>
        <div class="clear"></div>
        <div class="line"></div>
        <!-- 清除nav1对下面itemtag的浮动影响 -->
        <div style="text-align:center">
        <div class="itemtag">

          <div class="itembox" v-for="item in listitem" :key="item.index">
            <a href="#"><img class="item-img" :src="item.imgurl"></a>
            <div class="itembonx-title">
              <span class="itemname">{{item.itemname}}</span>
              <br>
              <div class="by">
                  <span>by</span> <a class="itemhref" :href="item.href">{{item.itemhref}}</a>
              </div>
            </div>
          </div>
        </div>
        
      <div class="nav1">
      <h2 class="nav1 a1"><a href="#">新碟上架</a></h2>
      
      </div>
        <div class="clear"></div>
        <div class="line"></div>
        <!-- 清除nav1对下面itemtag的浮动影响 -->
        <div class="center">
        <div class="midpart">
          <a class="left" >《</a>
          <a class="right" @click="itemright">》</a>
      
         <ul class="itemul" v-bind:style="{transition:change3,left:change}" >
           <li class="itemli"></li>
           <li class="itemli"></li>
           <li class="itemli"></li>
           <li class="itemli"></li>
           <li class="itemli"></li>
         </ul>
         
          <ul class="itemul2" v-bind:style="{left:change2}">
           <li class="itemli"></li>
           <li class="itemli"></li>
           <li class="itemli"></li>
           <li class="itemli"></li>
           <li class="itemli"></li>
         </ul>
        </div>
        </div>
      
      
    </div>
    <!-- itemtag -->
     <div class="nav1">
      <h2 class="nav1 a1"><a href="#">榜单</a></h2>
       </div>
        <div class="clear"></div>
       <div class="line"></div>
        <div class="bottom">
            
        </div>
    </div>
    
    
  </div>

</template>

<script>
import pic1 from '../assets/image/1.jpg'
import pic2 from '../assets/image/2.jpg'
import pic3 from '../assets/image/3.jpg'
import pic4 from '../assets/image/3.jpg'

import 'jquery/dist/jquery.js'
import 'bootstrap/dist/js/bootstrap.js'
import 'bootstrap/dist/css/bootstrap.css'




export default {
 
    data(){
      return{
       itemswip:[
         {
           isactive:true,
           change:'161px'
         },
         {
           isactive:false,
           change:'0px'
         },
         ],
        change3:'',
        change2:'1000px',
        change:"161px",
        listitem:[
          {
            itemname:"【日式青春】放学后......",
            itemhref:"xxxxxx",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          },
           {
            itemname:"【日式青春】放学后......",
            itemhref:"xxxxxx",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            // require('../assets/images/member.png')
            
          },
           {
            itemname:"【日式青春】放学后......",
            itemhref:"xxxxxx",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          },
           {
            itemname:"【日式青春】放学后......",
            itemhref:"xxxxxx",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          },
           {
            itemname:"【日式青春】放学后......",
            itemhref:"xxxxxx",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          },
            {
            itemname:"【日式青春】放学后......",
            itemhref:"愛(あい)してる ただそれだけで",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          },
            {
            itemname:"【日式青春】放学后......",
            itemhref:"愛(あい)してる ただそれだけで",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          },
            {
            itemname:"【日式青春】放学后......",
            itemhref:"愛(あい)してる ただそれだけで",
            href:"www.baidu.com",
            imgurl:require('../assets/image/item-img/2.jpg')
            
          }
        ],
        index:0,
        item:[
         {index:'0',src:pic1,isactive:true,style:'blur(0px)'},
         {index:'1',src:pic2,isactive:true,style:'blur(15px)'},
         {index:'2',src:pic3,isactive:true,style:'blur(15px)'},
         {index:'3',src:pic4,isactive:true,style:'blur(15px)'}
          ],
        
      }
    },
    methods:{
      onchanged(index,oldindex){
           this.carouselIndex = index;
           this.index=index
           console.log("new"+index)
           console.log("old"+oldindex)
        
      },
      itemright(){
        this.change='-1000px'
        this.change3='left 3s'

      }
      //onchanged事件是carouesl.js文件下watch下的监听变量activeIndex函数，里面有两个参数分为当前激活对象，和之前激活对象
    //  在子组件中需要向父组件传值处使用this.$emit("function",param);   //其中function为父组件定义函数，param为需要传递参数
    },
    //监听data下的变量的值发生改变后处理的事件（对该变量的处理）
    watch:{
      index(){
        for(let i=0;i<this.item.length;i++){
          this.item[i].style='blur(15px)'
        }
        this.item[this.index].style='blur(0px)'
        console.log("changed")
      },

     
    },
      
    

}
</script>


<style scoped>
.bottom{
  width: 700px;
  height: 480px;
  background: yellow;
  left: 10px;
}
.left{
  float: left;
  position: relative;
  width: 17px;
  height: 17px;
  top: 100px;
  left: 0;
  
 
}
.right{
  float: right;
  position: relative;
  width: 17px;
  height: 17px;
  top: 100px;
  right:0;

}

.itemul{
 
  margin: 0 auto;
  list-style: none;
  text-align: left;
  width: 671px;
  height: 150px;
  padding-left:13px ;
  position: absolute;
  /* absoulute可以解决水平显示的问题 */
  /* transition: left 3s; */
}
.itemul2{
 
  margin: 0 auto;
  list-style: none;
  text-align: left;
  width: 671px;
  height: 150px;
  position: absolute;
  padding-left:13px ;

}
.itemli{
  margin-top: 30px;
  width:118px ;
  height:150px ;
  margin-left: 11px;
  background: green;
  float: left;
  margin-bottom: 10px;
  
}

.card{
  width: 118px;
  height: 150px;

}
.center{
  padding: 30px;
  text-align: center;
}
.midpart{
 
  overflow: hidden;
  width: 700px;
  height: 200px;
  background: grey;
}
.itemhref{
  font-size: 12px;
}
a{
  text-decoration:none
}
.itemhref{
  margin-left: 5px;
}
.by{
  height: auto;
  text-align: left;
}
.itemname{
  font: bold;
  font-size: 12px;
}
.itembonx-title{
  width: 140px;
  height: 24px;
  text-align: left;
}
template{
  background: #f5f5f5;
}
.line{
  height: 2px;
  width: 100%;
  background:-webkit-gradient(left,rgba(255,255,255,0),	#00BFFF,rgba(255,255,255,0)) ;
  background:linear-gradient(to right,rgba(255,255,255,0),#0000CD,rgba(255,255,255,0))
}
.itembox{
  margin-left: 50px;
  margin-top:50px ;
  width: auto;
  height: 185px;
  background: white;
 
}
.itemtag{
  margin-top:10px ;
  width: 800px;
  height: 550px;
  background: grey;
  display: flex;
  flex-flow: row wrap;
  /* justify-content: space-between; */
  align-content: flex-start
}
.img{
  width: 100%;height: 100%;
}
 
  .el-carousel__item h3 {
   
    font-size: 14px;
    opacity: 0.75;
    line-height: 200px;
    margin: 0;
  }
  
  .el-carousel__item:nth-child(2n) {
    background-color: #99a9bf;
  }
  
  .el-carousel__item:nth-child(2n+1) {
    background-color: #d3dce6;
  }

  .maintag{
      
      margin: 0 auto;
      padding: 30px;
      width: 860px;
      height: 100%;
      background-color: white;
      border: 1px solid #d3d3d3;
  }
  .clear{
    clear: both;
  }
  .nav1{
    float: left;
  }
  .a1{
    margin: 10px;
  }
  .tab{
    display: inline-block;
    padding: 20px;
  }
  .tabtag{
    margin: 0px 5px 0px 5px;
    
  }
 .tagline{
  margin: 0px 10px 0px 10px;
 }
 .modaltopleft{
   width: 25%;
   height: 100%;
   filter: blur(10px);
   position: relative;
   left: 0;
   top: 0;
   z-index: 10;
   background: gold;
 }
 .modaltopright{
   width: 25%;
   height: 100%;
   /* background: grey; */
   float: right;
   position: absolute;
   top: 0;
   left: 75%;
 }
 .modal{
  -webkit-filter: blur(15px);
 }
 .item-img{
  width: 140px;
  height: 140px;
  border: 1px solid black;
}
</style>